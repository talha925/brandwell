// import Image from "next/image"
// export default function Coupons() {
// return(
// <div>



// <div className=" ">
//         <h3 className="text-xl text-center font-semibold ">Free Online Coupons and Promo Codes for the Store You Love</h3>
//         <div className=" flex justify-evenly"></div>
//             <Image src="/image/amazon.com.png" alt="Amazon"width={400} height={500} className="w-56 md:w-56 sm:w-4 h-auto md:ml-80 ml-20 mt-20 rounded-full-md  p-2.5 outline outline-offset-2 outline-gray-100" />
       
            
//           </div>

// <section className="mb-20">
//   <h3 className="text-xl font-semibold mb-7 md:ml-44 ml-3  sm:ml-4">Today&apos;s Most Popular Coupons & Deals</h3>
  
//   <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-9 mx-auto max-w-7xl">


// <div className="bg-white border p-4 rounded-lg shadow-lg md:rounded md:shadow">

// <p className="text-sm text-green-500 font-medium mb-2 ml-20">Verified <span className="text-gray-500">•udemy</span></p>
// <h4 className="text-lg font-semibold mb-2 ml-20">
// Up to 85% Off Online Courses During Black Friday & Cyber Monday Sale
// </h4>
// <h1 className="text-2xl font-sans font-bold mb-2 ml-1">
// Udemy
// </h1>
// <p className="text-gray-600 text-sm mb-4 ml-20">
// Fill Your Cart with Career-changing Skills
// </p>
// <p className="text-sm text-gray-500 mb-4 ml-20">Ends in 8 days</p>
// <button className="bg-blue-600 text-white py-2 px-6 ml-56 md:ml-80 md:rounded-lg hover:bg-blue-700 transition duration-200">
// Get deal
// </button>
// </div>

// {/* Hotel Collection Deal */}
// <div className="bg-white border p-6 rounded-lg shadow-lg">
// <p className="text-sm text-red-500 font-medium mb-2 ml-20">Exclusive <span className="text-gray-500">•Hotel Collection</span></p>
// <h4 className="text-lg font-semibold mb-2 ml-20">
// Up to 50% Off Sitewide + Extra 20% Off All Orders
// </h4>
// <h1 className="text-1xl font-mono font-light mb-2 ml-1 text-black">
// • HOTEL COLLECTION
// </h1>
// <p className="text-gray-600 text-sm mb-4"></p>
// <button className="bg-blue-600 text-white py-2 px-6  ml-56 md:ml-80 rounded-lg hover:bg-blue-700 md:transition duration-200">
// Get code
// </button>
// </div>

// <div className="bg-white border p-6 rounded-lg shadow-lg">
// <p className="text-sm text-red-500 font-medium mb-2 ml-20">Exclusive <span className="text-gray-500">• Aroma360</span></p>
// <h4 className="text-lg font-semibold mb-2 ml-20">
// Up to 50% Off Sitewide + Extra 20% Off All Orders
// </h4>
// <h1 className="text-2xl font-mono font-light mb-2 ml-1 text-gray-400">
// AROMA360
// </h1>
// <p className="text-gray-600 text-sm mb-4"></p>
// <button className="bg-blue-600 text-white py-2 px-6 ml-56 md:ml-80 rounded-lg hover:bg-blue-700 transition duration-200">
// Get code
// </button>
// </div>


// <div className="bg-white border p-6 rounded-lg shadow-lg">
// <p className="text-sm text-green-500 font-medium mb-2 ml-20">Verified <span className="text-gray-600"> • Aquasana</span> </p>
// <h4 className="text-lg font-semibold mb-2 ml-20">
// Up to 60% Off Sitewide on Black Friday Early Access Sale
// </h4>
// <h1 className=" font-sans  mb-2 ml-1 inline-block text-3xl font-bold
// bg-gradient-to-r from-indigo-400 to-blue-200
// bg-clip-text text-transparent">
// Aquasana
// </h1>
// <p className="text-gray-600 text-sm mb-4"></p>
// <p className="text-sm text-gray-500 mb-4 nl-20">Ends tomorrow</p>
// <button className="bg-blue-600 text-white py-2 px-6 ml-56 md:ml-80 rounded-lg hover:bg-blue-700 transition duration-200">
// Get deal
// </button>
// </div>


// <div className="bg-white border p-6 rounded-lg shadow-lg">
// <p className="text-sm text-gray-500 font-medium mb-2 ml-20">Verified<span className="text-gray-600">• Sunspel</span> • Sunspel</p>
// <h4 className="text-lg font-semibold mb-2 ml-20">
// Up to 30% Off Selected Men&apos;s Styles on Black Friday Sale
// </h4>
// <h1 className="text-1xl font-serif font-bold mb-2 ml-1">
// SUNSPEL
// </h1>
// <p className="text-gray-600 text-sm mb-4 ml-20">
// Including Best-selling Classic T-shirts & Riviera Polo Shirts
// </p>
// <p className="text-sm text-gray-500 mb-4">Ends in 1 month</p>
// <button className="bg-blue-600 text-white py-2 px-6 ml-56 md:ml-80 rounded-lg hover:bg-blue-700 transition duration-200">
// Get deal
// </button>
// </div>

// <div className="bg-white border p-6 rounded-lg shadow-lg">
// <p className="text-sm text-green-500 font-medium mb-2 ml-20">Verified <span className="text-gray-600">• Newegg</span></p>
// <h4 className="text-lg font-semibold mb-2 ml-20">
// Up to 80% Off Your Tech Favorites on Black Friday Deals
// </h4>
// <h1 className="text-2xl font-mono font-bold  mb-2 ml-1 text-blue-900">
// Newegg
// </h1>
// <p className="text-gray-600 text-sm mb-4"></p>
// <p className="text-sm text-gray-500 mb-4 ml-20">Ends in 5 days</p>
// <button className="bg-blue-600 text-white py-2 px-6 ml-56 md:ml-80 rounded-lg hover:bg-blue-700 transition duration-200">
// Get deal
// </button>
// </div>
// </div>


// </section>

// <footer className="bg-black text-white py-4">
// <div className="container mx-auto px-4 text-center" >

// <div className="flex justify-center  mb-44 space-x-4">

//   <a
//     href="https://instagram.com"
//     target="_blank"
//     rel="noopener noreferrer"
//     className="text-white hover:text-white "
//   >
//     <svg
//       xmlns="http://www.w3.org/2000/svg"
//       fill="currentColor"
//       viewBox="0 0 24 24"
//       className="h-6 w-6 stroke-1 md:stroke-2"
//     >
//       <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.33 3.608 1.306.975.975 1.244 2.242 1.306 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.33 2.633-1.306 3.608-.975.975-2.242 1.244-3.608 1.306-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.33-3.608-1.306-.975-.975-1.244-2.242-1.306-3.608-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.33-2.633 1.306-3.608.975-.975 2.242-1.244 3.608-1.306 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.67.014-4.947.072-1.63.07-3.179.51-4.343 1.674-1.164 1.164-1.604 2.713-1.674 4.343-.058 1.277-.072 1.688-.072 4.947s.014 3.67.072 4.947c.07 1.63.51 3.179 1.674 4.343 1.164 1.164 2.713 1.604 4.343 1.674 1.277.058 1.688.072 4.947.072s3.67-.014 4.947-.072c1.63-.07 3.179-.51 4.343-1.674 1.164-1.164 1.604-2.713 1.674-4.343.058-1.277.072-1.688.072-4.947s-.014-3.67-.072-4.947c-.07-1.63-.51-3.179-1.674-4.343-1.164-1.164-2.713-1.604-4.343-1.674-1.277-.058-1.688-.072-4.947-.072zm0 5.838c-3.403 0-6.162 2.758-6.162 6.162s2.758 6.162 6.162 6.162 6.162-2.758 6.162-6.162-2.758-6.162-6.162-6.162zm0 10.287c-2.276 0-4.125-1.849-4.125-4.125s1.849-4.125 4.125-4.125 4.125 1.849 4.125 4.125-1.849 4.125-4.125 4.125zm6.406-11.845c-.796 0-1.441.645-1.441 1.441s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.441-1.441-1.441z" />
//     </svg>
//   </a>

//   <a
//     href="https://facebook.com"
//     target="_blank"
//     rel="noopener noreferrer"
//     className="text-white hover:text-white"
//   >
//     <svg
//       xmlns="http://www.w3.org/2000/svg"
//       fill="currentColor"
//       viewBox="0 0 24 24"
//       className="h-6 w-6 stroke-1 md:stroke-2"
//     >
//       <path d="M22.676 0h-21.352c-.732 0-1.324.592-1.324 1.324v21.352c0 .732.592 1.324 1.324 1.324h11.483v-9.294h-3.13v-3.622h3.13v-2.671c0-3.1 1.894-4.788 4.658-4.788 1.325 0 2.465.099 2.795.143v3.24h-1.917c-1.505 0-1.795.715-1.795 1.763v2.313h3.59l-.467 3.622h-3.123v9.294h6.132c.732 0 1.324-.592 1.324-1.324v-21.352c0-.732-.592-1.324-1.324-1.324z" />
//     </svg>
//   </a>

//   <div className="border-b-* border-indigo-200 "></div>
// </div>

// <ul className="flex justify-center mb-28 space-x-6 text-sm ">
//   <li><a href="#" className="hover:underline">About Us</a></li>
//   <li><a href="#" className="hover:underline">Privacy Policy</a></li>
//   <li><a href="#" className="hover:underline">Terms & Conditions</a></li>
//   <li><a href="#" className="hover:underline">Contact Us</a></li>
//   <li><a href="Coupons" className="hover:underline">Coupons</a></li>
// </ul>

// <p className="text-xs text-gray-500">
//   © 2024 Bloggydeals. We may earn a commission if you use our links/coupons.
// </p>
// </div>
// </footer>
// </div>
// )
// }

// "use client";

// import { useState } from "react";

// interface StoreImage {
//   url: string;
//   alt: string;
// }

// interface Store {
//   image: StoreImage;
//   _id: string;
//   name: string;
//   directUrl: string;
//   trackingUrl: string;
// }

// interface Coupon {
//   _id: string;
//   offerName: string;
//   offerBox: string;
//   offerDetails: string;
//   code: string;
//   store: Store;
//   discount: number;
//   expirationDate: string;
//   affiliateLink: string;
//   active: boolean;
//   featuredForHome: boolean;
//   flickerButton: boolean;
//   verifiedButton: boolean;
//   exclusiveButton: boolean;
//   storeLink: string;
//   image: string;
// }

// const CouponsList = () => {
//   const [coupons, setCoupons] = useState<Coupon[]>([
//     {
//       _id: "67bdc7efb05ba71aada7da66",
//       offerName: "Special Winter Sale",
//       offerBox: "Winter Exclusive",
//       offerDetails: "Get 20% off on all products",
//       code: "WINTER220",
//       store: {
//         image: {
//           url: "https://coupon-app-image.s3.us-east-1.amazonaws.com/73a5f175-3cf8-44fd-b0d7-b7f7d9087abd-icons8-people-48.png",
//           alt: "sa",
//         },
//         _id: "679bfede1f8136e8b405ffd9",
//         name: "hello",
//         directUrl: "https://app.quicktype.io/",
//         trackingUrl: "https://app.quicktype.io/",
//       },
//       discount: 220,
//       expirationDate: "2025-03-31T23:59:59.000Z",
//       active: false,
//       featuredForHome: true,
//       flickerButton: false,
//       verifiedButton: true,
//       exclusiveButton: false,
//       storeLink: "https://app.quicktype.io/",
//       affiliateLink: "https://app.quicktype.io/",
//       image:
//         "https://coupon-app-image.s3.us-east-1.amazonaws.com/73a5f175-3cf8-44fd-b0d7-b7f7d9087abd-icons8-people-48.png",
//     },
//     {
//       _id: "67bdcbe1b05ba71aada7da81",
//       offerName: "Special Winter Sale",
//       offerBox: "Winter Exclusive",
//       offerDetails: "Get 20% off on all products",
//       code: "WINTER30",
//       store: {
//         image: {
//           url: "https://coupon-app-image.s3.us-east-1.amazonaws.com/9e712346-d6ae-4de9-ba47-69ab0ee5dd10-zafulcom_logo.jpeg",
//           alt: "zafulcom_logo Best Deals Logo",
//         },
//         _id: "679e7bc91f8136e8b4060009",
//         name: "Hello",
//         directUrl: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//         trackingUrl: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//       },
//       discount: 30,
//       expirationDate: "2025-03-31T23:59:59.000Z",
//       active: false,
//       featuredForHome: true,
//       flickerButton: false,
//       verifiedButton: true,
//       exclusiveButton: false,
//       storeLink: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//       affiliateLink: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//       image:
//         "https://coupon-app-image.s3.us-east-1.amazonaws.com/9e712346-d6ae-4de9-ba47-69ab0ee5dd10-zafulcom_logo.jpeg",
//     },
//     // Aapke purane coupons bhi yahan rahenge...
//   ]);
  
//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState("");

//   if (loading) return <p className="text-center text-lg">Loading coupons...</p>;
//   if (error) return <p className="text-center text-red-500">Error: {error}</p>;

//   return (
//     <div className="max-w-4xl mx-auto p-4">
//       <h2 className="text-2xl font-bold mb-6 text-center">Coupons List</h2>
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         {coupons.map((coupon) => (
//           <div key={coupon._id} className="border rounded-lg shadow-md p-4">
//             <div className="flex items-center">
//               <img src={coupon.store.image.url} alt={coupon.store.image.alt} className="w-12 h-12 mr-3" />
//               <div>
//                 <h3 className="text-lg font-semibold">{coupon.offerName}</h3>
//                 <p className="text-sm text-gray-500">{coupon.offerDetails}</p>
//               </div>
//             </div>
//             <p className="mt-2 text-green-600 font-bold text-lg">{coupon.offerBox}</p>
//             <p className="mt-1 text-gray-600">
//               Code: <span className="font-mono bg-gray-200 px-2 py-1 rounded">{coupon.code}</span>
//             </p>
//             <a
//               href={coupon.store.directUrl}
//               target="_blank"
//               rel="noopener noreferrer"
//               className="text-blue-500 underline block mt-2"
//             >
//               Visit Store: {coupon.store.name}
//             </a>
//             <img src={coupon.image} alt={coupon.offerName} className="w-full h-32 object-cover mt-2 rounded-lg" />
//             <p className="text-red-500 text-sm mt-2">
//               Expires on: {new Date(coupon.expirationDate).toDateString()}
//             </p>
//             <a
//               href={coupon.affiliateLink}
//               target="_blank"
//               rel="noopener noreferrer"
//               className="block mt-4 text-center bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-700"
//             >
//               Get Deal
//             </a>
//           </div>
//         ))}
//       </div>
//     </div>
//   );
// };

// export default CouponsList;






// "use client";

// import { useState } from "react";

// interface StoreImage {
//   url: string;
//   alt: string;
// }

// interface Store {
//   _id: string;
//   name: string;
//   directUrl: string;
//   trackingUrl: string;
//   image: StoreImage;
// }

// interface Coupon {
//   _id: string;
//   offerName: string;
//   offerBox: string;
//   offerDetails: string;
//   code: string;
//   discount: number;
//   expirationDate: string;
//   active: boolean;
//   featuredForHome: boolean;
//   flickerButton: boolean;
//   verifiedButton: boolean;
//   exclusiveButton: boolean;
//   store: Store;
//   storeLink: string;
//   affiliateLink: string;
//   image: string;
// }

// const CouponsList = () => {
//   const [coupons, setCoupons] = useState<Coupon[]>([
//     {
//       _id: "67bdc7efb05ba71aada7da66",
//       offerName: "Special Winter Sale",
//       offerBox: "Winter Exclusive",
//       offerDetails: "Get 20% off on all products",
//       code: "WINTER220",
//       discount: 220,
//       expirationDate: "2025-03-31T23:59:59.000Z",
//       active: false,
//       featuredForHome: true,
//       flickerButton: false,
//       verifiedButton: true,
//       exclusiveButton: false,
//       store: {
//         _id: "679bfede1f8136e8b405ffd9",
//         name: "Hello",
//         directUrl: "https://app.quicktype.io/",
//         trackingUrl: "https://app.quicktype.io/",
//         image: {
//           url: "https://coupon-app-image.s3.us-east-1.amazonaws.com/73a5f175-3cf8-44fd-b0d7-b7f7d9087abd-icons8-people-48.png",
//           alt: "Store Image",
//         },
//       },
//       storeLink: "https://app.quicktype.io/",
//       affiliateLink: "https://app.quicktype.io/",
//       image:
//         "https://coupon-app-image.s3.us-east-1.amazonaws.com/73a5f175-3cf8-44fd-b0d7-b7f7d9087abd-icons8-people-48.png",
//     },
//     {
//       _id: "67bdcbe1b05ba71aada7da81",
//       offerName: "Special Winter Sale",
//       offerBox: "Winter Exclusive",
//       offerDetails: "Get 20% off on all products",
//       code: "WINTER30",
//       discount: 30,
//       expirationDate: "2025-04-15T23:59:59.000Z",
//       active: true,
//       featuredForHome: false,
//       flickerButton: true,
//       verifiedButton: true,
//       exclusiveButton: true,
//       store: {
//         _id: "679e7bc91f8136e8b4060009",
//         name: "Zaful",
//         directUrl: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//         trackingUrl: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//         image: {
//           url: "https://coupon-app-image.s3.us-east-1.amazonaws.com/9e712346-d6ae-4de9-ba47-69ab0ee5dd10-zafulcom_logo.jpeg",
//           alt: "Zaful Logo",
//         },
//       },
//       storeLink: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//       affiliateLink: `${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`,
//       image:
//         "https://coupon-app-image.s3.us-east-1.amazonaws.com/9e712346-d6ae-4de9-ba47-69ab0ee5dd10-zafulcom_logo.jpeg",
//     },
//   ]);

//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState("");

//   if (loading) return <p className="text-center text-lg">Loading coupons...</p>;
//   if (error) return <p className="text-center text-red-500">Error: {error}</p>;

//   return (
//     <div className="max-w-4xl mx-auto p-4">
//       <h2 className="text-2xl font-bold mb-6 text-center">Coupons List</h2>
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         {coupons.map((coupon) => (
//           <div key={coupon._id} className="border rounded-lg shadow-md p-4">
//             <div className="flex items-center">
//               <img
//                 src={coupon.store.image.url}
//                 alt={coupon.store.image.alt}
//                 className="w-12 h-12 mr-3 rounded-full"
//               />
//               <div>
//                 <h3 className="text-lg font-semibold">{coupon.offerName}</h3>
//                 <p className="text-sm text-gray-500">{coupon.offerDetails}</p>
//               </div>
//             </div>
//             <p className="mt-2 text-green-600 font-bold text-lg">
//               {coupon.offerBox}
//             </p>
//             <p className="mt-1 text-gray-600">
//               Code:{" "}
//               <span className="font-mono bg-gray-200 px-2 py-1 rounded">
//                 {coupon.code}
//               </span>
//             </p>
//             <a
//               href={coupon.store.directUrl}
//               target="_blank"
//               rel="noopener noreferrer"
//               className="text-blue-500 underline block mt-2"
//             >
//               Visit Store: {coupon.store.name}
//             </a>
//             <img
//               src={coupon.image}
//               alt={coupon.offerName}
//               className="w-full h-32 object-cover mt-2 rounded-lg"
//             />
//             <p className="text-red-500 text-sm mt-2">
//               Expires on: {new Date(coupon.expirationDate).toDateString()}
//             </p>
//             <a
//               href={coupon.affiliateLink}
//               target="_blank"
//               rel="noopener noreferrer"
//               className="block mt-4 text-center bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-700"
//             >
//               Get Deal
//             </a>
//           </div>
//         ))}
//       </div>
//     </div>
//   );
// };

// export default CouponsList;







// "use client";

// import { useState, useEffect } from "react";

// interface StoreImage {
//   url: string;
//   alt: string;
// }

// interface Store {
//   _id: string;
//   name: string;
//   image: StoreImage;
// }

// interface Coupon {
//   _id: string;
//   offerName: string;
//   offerBox: string;
//   offerDetails: string;
//   code: string;
//   discount: number;
//   expirationDate: string;
//   active: boolean;
//   featuredForHome: boolean;
//   flickerButton: boolean;
//   verifiedButton: boolean;
//   exclusiveButton: boolean;
//   store: Store;
//   storeLink: string;
//   affiliateLink: string;
//   image: string;
  
// }

// const CouponsList = () => {
//   const [coupons, setCoupons] = useState<Coupon[]>([]);
//   const [loading, setLoading] = useState(true);
//   const [error, setError] = useState("");

//   useEffect(() => {
//     const fetchCoupons = async () => {
//       try {
//         const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/coupons`);
//         const result = await response.json();

//         if (result.status === "success" && Array.isArray(result.data)) {
//           setCoupons(result.data);
//         } else {
//           setError("Invalid response format");
//         }
//       } catch (err) {
//         setError("Failed to fetch coupons");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchCoupons();
//   }, []);

//   if (loading) return <p className="text-center text-lg">Loading coupons...</p>;
//   if (error) return <p className="text-center text-red-500">Error: {error}</p>;

//   return (
//     <div className="max-w-4xl mx-auto p-4">
//       <h2 className="text-2xl font-bold mb-6 text-center">Coupons List</h2>
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         {coupons.map((coupon) => (
//           <div key={coupon._id} className="border rounded-lg shadow-md p-4">
//             <div className="flex items-center">
//               <img
//                 src={coupon.store.image.url}
//                 alt={coupon.store.image.alt}
//                 className="w-12 h-12 mr-3 rounded-full"
//               />
//               <div>
//                 <h3 className="text-lg font-semibold">{coupon.offerName}</h3>
//                 <p className="text-sm text-gray-500">{coupon.offerDetails}</p>
//               </div>
//             </div>
//             <p className="mt-2 text-green-600 font-bold text-lg">
//               {coupon.offerBox}
//             </p>
//             <p className="mt-1 text-gray-600">
//               Code:{" "}
//               <span className="font-mono bg-gray-200 px-2 py-1 rounded">
//                 {coupon.code}
//               </span>
//             </p>
//             <a
//               // href={coupon.store}
//               // target="_blank"
//               // rel="noopener noreferrer"
//               // className="text-blue-500 underline block mt-2"
//             >
//               Visit Store: {coupon.store.name}
//             </a>
//             <img
//               src={coupon.image}
//               alt={coupon.offerName}
//               className="w-full h-32 object-cover mt-2 rounded-lg"
//             />
//             <p className="text-red-500 text-sm mt-2">
//               Expires on: {new Date(coupon.expirationDate).toDateString()}
//             </p>
//             <a
//               href={coupon.affiliateLink}
//               target="_blank"
//               rel="noopener noreferrer"
//               className="block mt-4 text-center bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-700"
//             >
//               Get Deal
//             </a>
//           </div>
//         ))}
//       </div>
//     </div>
//   );
// };

// export default CouponsList;
// 


// "use client";

// import { useState, useEffect } from "react";

// interface StoreImage {
//   url: string;
//   alt: string;
// }

// interface Store {
//   _id: string;
//   name: string;
//   image: StoreImage;
//   directUrl: string;
//   trackingUrl: string;
// }

// interface Coupon {
//   _id: string;
//   offerName: string;
//   offerBox: string;
//   offerDetails: string;
//   code: string;
//   discount: number;
//   expirationDate: string;
//   active: boolean;
//   featuredForHome: boolean;
//   flickerButton: boolean;
//   verifiedButton: boolean;
//   exclusiveButton: boolean;
//   store: Store;
//   image: string;
// }

// const CouponsList = () => {
//   const [coupons, setCoupons] = useState<Coupon[]>([]);
//   const [loading, setLoading] = useState(true);
//   const [error, setError] = useState("");

//   useEffect(() => {
//     const fetchCoupons = async () => {
//       try {
//         const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/coupons`);
//         const result = await response.json();

//         if (result.status === "success" && Array.isArray(result.data)) {
//           setCoupons(result.data); // Make sure to map data correctly from API
//         } else {
//           setError("Invalid response format");
//         }
//       } catch (err) {
//         setError("Failed to fetch coupons");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchCoupons();
//   }, []);

//   return (
//     <div className="max-w-4xl mx-auto p-4">
//       <h2 className="text-2xl font-bold mb-6 text-center">Coupons List</h2>

//       {loading && <p className="text-center text-gray-500">Loading...</p>}
//       {error && <p className="text-center text-red-500">{error}</p>}

//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         {coupons.map((coupon) => (
//           <div key={coupon._id} className="border rounded-lg shadow-md p-4">
//             <div className="flex items-center">
//               <img
//                 src={coupon.store.image.url} // Using store image from API response
//                 alt={coupon.store.image.alt}
//                 className="w-12 h-12 mr-3 rounded-full"
//               />
//               <div>
//                 <h3 className="text-lg font-semibold">{coupon.offerName}</h3>
//                 <p className="text-sm text-gray-500">{coupon.offerDetails}</p>
//               </div>
//             </div>
//             <p className="mt-2 text-green-600 font-bold text-lg">{coupon.offerBox}</p>
//             <p className="mt-1 text-gray-600">
//               Code:{" "}
//               <span className="font-mono bg-gray-200 px-2 py-1 rounded">{coupon.code}</span>
//             </p>
//             <p className="text-red-500 text-sm mt-2">
//               Expires on: {new Date(coupon.expirationDate).toDateString()}
//             </p>

//             {/* Buttons for Tracking URL and Direct URL */}
//             <div className="mt-4 flex flex-col gap-2">
//               <a
//                 href={coupon.store.trackingUrl}
//                 target="_blank"
//                 rel="noopener noreferrer"
//                 className="block text-center bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-700"
//               >
//                 Get Deal
//               </a>
//               <a
//                 href={coupon.store.directUrl}
//                 target="_blank"
//                 rel="noopener noreferrer"
//                 className="block text-center bg-green-500 text-white py-2 rounded-lg hover:bg-green-700"
//               >
//                 Visit Store
//               </a>
//             </div>
//           </div>
//         ))}
//       </div>
//     </div>
//   );
// };

// export default CouponsList;



// "use client";

// import { useState, useEffect } from "react";
// import Image from "next/image"; // ✅ Import next/image for optimization

// interface StoreImage {
//   url: string;
//   alt: string;
// }

// interface Store {
//   _id: string;
//   name: string;
//   image: StoreImage;
//   directUrl: string;
//   trackingUrl: string;
// }

// interface Coupon {
//   _id: string;
//   offerName: string;
//   offerBox: string;
//   offerDetails: string;
//   code: string;
//   discount: number;
//   expirationDate: string;
//   active: boolean;
//   featuredForHome: boolean;
//   flickerButton: boolean;
//   verifiedButton: boolean;
//   exclusiveButton: boolean;
//   store: Store;
//   image: string;
// }

// const CouponsList = () => {
//   const [coupons, setCoupons] = useState<Coupon[]>([]);
//   const [loading, setLoading] = useState<boolean>(true);
//   const [error, setError] = useState<string>("");

//   useEffect(() => {
//     const fetchCoupons = async () => {
//       try {
//         const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/coupons`);
//         const result = await response.json();

//         if (result.status === "success" && Array.isArray(result.data)) {
//           setCoupons(result.data);
//         } else {
//           setError("Invalid response format");
//         }
//       } catch (err) {
//         console.error("Error fetching coupons:", err); // ✅ Log error for debugging
//         setError("Failed to fetch coupons");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchCoupons();
//   }, []);

//   return (
//     <div className="max-w-4xl mx-auto p-4">
//       <h2 className="text-2xl font-bold mb-6 text-center">Coupons List</h2>

//       {loading && <p className="text-center text-gray-500">Loading...</p>}
//       {error && <p className="text-center text-red-500">{error}</p>}

//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         {coupons.map((coupon) => (
//           <div key={coupon._id} className="border rounded-lg shadow-md p-4 bg-white">
//             <div className="flex items-center">
//               <Image
//                 src={coupon.store.image.url}
//                 alt={coupon.store.image.alt}
//                 width={48} // ✅ Define width & height for performance
//                 height={48}
//                 className="w-12 h-12 mr-3 rounded-full"
//               />
//               <div>
//                 <h3 className="text-lg font-semibold">{coupon.offerName}</h3>
//                 <p className="text-sm text-gray-500">{coupon.offerDetails}</p>
//               </div>
//             </div>

//             <p className="mt-2 text-green-600 font-bold text-lg">{coupon.offerBox}</p>

//             <p className="mt-1 text-gray-600">
//               Code:{" "}
//               <span className="font-mono bg-gray-200 px-2 py-1 rounded">{coupon.code}</span>
//             </p>

//             <p className="text-red-500 text-sm mt-2">
//               Expires on: {new Date(coupon.expirationDate).toDateString()}
//             </p>

//             {/* Buttons for Tracking URL and Direct URL */}
//             <div className="mt-4 flex flex-col gap-2">
//               <a
//                 href={coupon.store.trackingUrl}
//                 target="_blank"
//                 rel="noopener noreferrer"
//                 className="flex-1 text-center bg-gray-800 text-white font-bold py-2 rounded-lg transition hover:bg-gray-900"
//               >
//                 Get Deal
//               </a>
//               <a
//                 href={coupon.store.directUrl}
//                 target="_blank"
//                 rel="noopener noreferrer"
//                 className="flex-1 text-center bg-orange-500 text-white font-bold py-2 rounded-lg transition hover:bg-orange-600"
//               >
//                 Visit Store
//               </a>
//             </div>
//           </div>
//         ))}
//       </div>
//     </div>
//   );
// };

// export default CouponsList;


"use client";
import Image from "next/image";
import React, { useEffect, useState } from "react";

type Coupon = {
  _id: string;
  offerDetails: string;
  code: string;
};

type Store = {
  _id: string;
  name: string;
  trackingUrl: string;
  image: {
    url: string;
    alt: string;
  };
  coupons: Coupon[];
  heading: string;
  language: string;
};

const CouponsPage = () => {
  const [stores, setStores] = useState<Store[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL || "https://coupon-app-backend.vercel.app"}/api/stores`)
      .then((res) => res.json())
      .then((data) => {
        setStores(data.data);
        setLoading(false);
      })
      .catch(() => setLoading(false));
  }, []);

  if (loading) {
    return (
      <div className="text-center mt-20 text-xl font-semibold text-gray-600">
        Loading coupons...
      </div>
    );
  }

  return (
    <div className="p-6 max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {stores.map((store) => (
        <div
          key={store._id}
          className="bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 p-5"
        >
          {/* Dynamically show store image */}
          <Image
            src={store.image.url}
            alt={store.image.alt}
            width={100}
            height={100}
            className="rounded-full mx-auto"
          />

          <div className="flex flex-col gap-1 mt-3 text-center">
            <h2 className="text-xl font-bold text-gray-800">{store.name}</h2>
            <a
              href={store.trackingUrl}
              target="_blank"
              rel="noopener noreferrer"
              className="text-blue-600 underline text-sm"
            >
              Visit Store
            </a>
            <p className="text-sm text-gray-500">{store.heading}</p>
            <p className="text-xs text-gray-400">Language: {store.language}</p>
          </div>

          <h3 className="mt-4 font-semibold text-gray-700">Coupons:</h3>
          {store.coupons.length > 0 ? (
            <ul className="mt-2 space-y-2 max-h-40 overflow-y-auto">
              {store.coupons.map((coupon) => (
                <li
                  key={coupon._id}
                  className="bg-gray-100 p-3 rounded-lg text-sm text-gray-800 flex justify-between items-center"
                >
                  <span>{coupon.offerDetails}</span>
                  {coupon.code && (
                    <span className="bg-green-100 text-green-700 px-2 py-1 rounded font-mono text-xs">
                      {coupon.code}
                    </span>
                  )}
                </li>
              ))}
            </ul>
          ) : (
            <p className="text-sm text-gray-500">No coupons available.</p>
          )}
        </div>
      ))}
    </div>
  );
};

export default CouponsPage;
